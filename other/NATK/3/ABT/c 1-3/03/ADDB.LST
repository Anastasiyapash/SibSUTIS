Turbo Assembler	 Version 4.1	    30/03/11 13:49:07	    Page 1
addb.asm



      1				     ;-------------------------------------------------------------
      2				     ; Пример арифметических операций над двоичными целыми числами.
      3				     ;-------------------------------------------------------------
      4				     masm
      5	0000			     model   small
      6	0000			     stack   256
      7	0000			     .data
      8	0000  FE		     a	     db	     254		     ;FEh
      9	0001  0000		     b	     dw	     0
     10				     ;-----------------------------------------------------------
     11	0003  00E3		     x	     dw	     227
     12	0005  001B		     y	     dw	     27
     13				     ;-----------------------------------------------------------
     14	0007  0154		     c	     dw	     340
     15	0009  01A4		     d	     dw	     420
     16				     ;-----------------------------------------------------------
     17	000B  02A8		     e	     dw	     680
     18	000D  3C		     f	     db	     60
     19				     ;-----------------------------------------------------------
     20	000E			     .code   ;сегмент кода
     21	0000			     main:				     ;точка входа в программу
     22	0000  B8 0000s			     mov     ax,@data		     ;загрузка сегментного регистра
     23	0003  8E D8			     mov     ds,ax		     ;настройка	регистра DS
     24									     ;	     на	адрес сегмента данных
     25				     ;-----------------------------------------------------------
     26				     ;...
     27	0005  33 C0			     xor     ax,ax		     ;очистка регистра AX
     28	0007  04 11			     add     al,17		     ;AL=17(11h)
     29	0009  02 06 0000r		     add     al,a		     ;AL=17+254=271(10Fh) должно быть
     30	000D  73 03			     jnc     m1	     ;если нет переноса, то перейти на m1
     31	000F  80 D4 00			     adc     ah,0    ;в	ax сумма с учетом переноса
     32	0012			     m1:
     33	0012  A3 0001r			     mov     b,ax		     ;запомнить	результат
     34				     ;-----------------------------------------------------------
     35				     ;-----------------------------------------------------------
     36				     ;...
     37				     ;-----------------------------------------------------------
     38				     ;Вставка сложения x + y
     39	0015  A1 0003r			     mov ax,x
     40	0018  03 06 0005r		     add ax,y
     41				     ;-----------------------------------------------------------
     42				     ;Вставка вычитания	x - y
     43	001C  A1 0003r			     mov ax,x
     44	001F  2B 06 0005r		     sub ax,y
     45				     ;-----------------------------------------------------------
     46				     ;Вставка умножения	c x d
     47	0023  A1 0007r			     mov ax,c
     48	0026  F7 26 0009r		     mul d
     49				     ;-----------------------------------------------------------
     50				     ;Вставка деления	e/f
     51	002A  A1 000Br			     mov ax,e
     52	002D  F6 36 000Dr		     div f
     53				     ;-----------------------------------------------------------
     54	0031			     exit:
     55	0031  B8 4C00			     mov     ax,4c00h	     ;стандартный выход
     56	0034  CD 21			     int     21h
     57				     end main			     ;конец программы
Turbo Assembler	 Version 4.1	    30/03/11 13:49:07	    Page 2
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

??DATE			Text   "30/03/11"
??FILENAME		Text   "addb	"
??TIME			Text   "13:49:07"
??VERSION		Number 040A
@32BIT			Text   0			   #5
@CODE			Text   _TEXT			   #5  #5  #20
@CODESIZE		Text   0			   #5
@CPU			Text   0101H
@CURSEG			Text   _TEXT			   #7  #20
@DATA			Text   DGROUP			   #5  22
@DATASIZE		Text   0			   #5
@FILENAME		Text   ADDB
@INTERFACE		Text   000H			   #5
@MODEL			Text   2			   #5
@STACK			Text   DGROUP			   #5
@WORDSIZE		Text   2			   #7  #20
A			Byte   DGROUP:0000		   #8  29
B			Word   DGROUP:0001		   #9  33
C			Word   DGROUP:0007		   #14	47
D			Word   DGROUP:0009		   #15	48
E			Word   DGROUP:000B		   #17	51
EXIT			Near   _TEXT:0031		   #54
F			Byte   DGROUP:000D		   #18	52
M1			Near   _TEXT:0012		   30  #32
MAIN			Near   _TEXT:0000		   #21	57
X			Word   DGROUP:0003		   #11	39  43
Y			Word   DGROUP:0005		   #12	40  44

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

DGROUP			Group				   #5  5  22
  STACK			16  0100 Para	Stack	STACK	   #6
  _DATA			16  000E Word	Public	DATA	   #5  #7
_TEXT			16  0036 Word	Public	CODE	   #5  5  #20  20
