Turbo Assembler	 Version 4.1	    23/01/11 19:28:24	    Page 1
symbol.asm



      1				     ;-----------------------------------------------------------
      2				     ; Пример ввода символа с 01h int 21h
      3				     ;-----------------------------------------------------------
      4
      5	0000			     data    segment para public 'data'	     ; начало сегмента данных
      6									     ; para - сегмент начинается по адресу
      7									     ;	       кратному	16
      8									     ; public -	объединять все сегменты	с
      9									     ;		 одинаковым именем 'data'
     10	0000  82 A2 A5 A4 A8 E2	A5+  message1	     db	     'Введите любой символ: $'
     11	      20 AB EE A1 AE A9	20+
     12	      E1 A8 AC A2 AE AB	3A+
     13	      20 24
     14	0017  0A 0D 82 EB 20 A2	A2+  message2	     db	     0ah,0dh,'Вы ввели символ: $'
     15	      A5 AB A8 20 E1 A8	AC+
     16	      A2 AE AB 3A 20 24
     17	002B  ??		     char	     db	     ?
     18	002C			     data    ends			     ; конец сегмента данных
     19
     20	0000			     stk     segment stack		     ; начало сегмента стека
     21	0000  0100*(3F)			     db	     256 dup('?')
     22	0100			     stk     ends			     ; конец сегмента стека
     23
     24	0000			     code    segment para public 'code'	     ; начало сегмента кода
     25					     assume  cs:code,ds:data,ss:stk
     26	0000			     main    proc
     27	0000  B8 0000s			     mov     ax,data		     ; связываем регистр ds с сегментом
     28	0003  8E D8			     mov     ds,ax		     ;	     данных через регистр ax
     29
     30	0005  B4 09			     mov     ah,09h		     ; 09h - код функции для вывода строки,
     31									     ;	     которая заканчивается '$'
     32	0007  BA 0000r			     mov     dx,offset message1	     ; адрес начала строки
     33	000A  CD 21			     int     21h		     ; вывод строки на экран
     34
     35	000C  B4 01			     mov     ah,1h		     ; 01h - код функции для ввода символа
     36	000E  CD 21			     int     21h		     ; ввод символа с клавиатуры
     37
     38	0010  88 0E 002Br		     mov     char,cl		     ; сохранение введенного символа в памяти
     39	0014  50		     push    ax				     ; сохранение введенного символа в стеке
     40
     41	0015  B4 09			     mov     ah,09h		     ; 09h - код функции для вывода строки
     42	0017  BA 0017r			     mov     dx,offset message2	     ; адрес начала строки
     43	001A  CD 21			     int     21h		     ; вывод строки на экран
     44
     45	001C  58		     pop     ax				     ; восстановление из стека введенного
     46									     ;	     символа
     47	001D  B4 02			     mov     ah,2h		     ; 02h - код функции для вывода символа
     48									     ;	     на	экран
     49	001F  8A D0			     mov     dl,al		     ; значение	символа
     50	0021  CD 21			     int     21h		     ; вывод символа на	экран
     51
     52	0023  B8 4C00			     mov     ax,4c00h		     ; 4c00h - код функции для стандартного
     53									     ;	      выхода
     54	0026  CD 21			     int 21h			     ; стандартный выход
     55
     56
     57	0028			     main    endp
Turbo Assembler	 Version 4.1	    23/01/11 19:28:24	    Page 2
symbol.asm



     58	0028			     code    ends			     ; конец сегмента кода
     59				     end     main
Turbo Assembler	 Version 4.1	    23/01/11 19:28:24	    Page 3
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

??DATE			Text   "23/01/11"
??FILENAME		Text   "symbol	"
??TIME			Text   "19:28:24"
??VERSION		Number 040A
@CPU			Text   0101H
@CURSEG			Text   CODE			   #5  #20  #24
@FILENAME		Text   SYMBOL
@WORDSIZE		Text   2			   #5  #20  #24
CHAR			Byte   DATA:002B		   #17	38
MAIN			Near   CODE:0000		   #26	59
MESSAGE1		Byte   DATA:0000		   #10	32
MESSAGE2		Byte   DATA:0017		   #14	42

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

CODE			16  0028 Para	Public	CODE	   #24	25
DATA			16  002C Para	Public	DATA	   #5  25  27
STK			16  0100 Para	Stack		   #20	25
