;-----------------------------------------------------------
; Пример ввода символа с 10h int 16h
;-----------------------------------------------------------

data	segment para public 'data'      ; начало сегмента данных
                                        ; para - сегмент начинается по адресу
                                        ;         кратному 16
                                        ; public - объединять все сегменты с
                                        ;           одинаковым именем 'data'
message1	db	'Введите любой символ: $'
message2	db	0ah,0dh,'Вы ввели символ: $'
char		db	?
data	ends                            ; конец сегмента данных

stk	segment stack                   ; начало сегмента стека
	db	256 dup('?')
stk	ends                            ; конец сегмента стека

code	segment para public 'code'      ; начало сегмента кода
	assume	cs:code,ds:data,ss:stk
main	proc
	mov	ax,data			; связываем регистр ds с сегментом
	mov	ds,ax                   ;	данных через регистр ax

	mov	ah,09h                  ; 09h - код функции для вывода строки,
                                        ;	которая заканчивается '$'
	mov	dx,offset message1      ; адрес начала строки
	int	21h                     ; вывод строки на экран

	mov	ah,10h                  ; 10h - код функции для ввода символа
	int	16h                     ; ввод символа с клавиатуры
                                        
	mov	char,cl			; сохранение введенного символа в памяти                               
push	ax             	                ; сохранение введенного символа в стеке
	
	mov	ah,09h                  ; 09h - код функции для вывода строки
	mov	dx,offset message2      ; адрес начала строки
	int	21h                     ; вывод строки на экран

pop	ax 	                        ; восстановление из стека введенного
                                        ; 	символа
	mov	ah,2h                   ; 02h - код функции для вывода символа
                                        ; 	на экран
	mov	dl,al                   ; значение символа
	int	21h                     ; вывод символа на экран

	mov	ax,4c00h                ; 4c00h - код функции для стандартного
                                        ;	 выхода
        int 21h                         ; стандартный выход
	

main	endp
code	ends                            ; конец сегмента кода
end	main
