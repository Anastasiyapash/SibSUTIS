Turbo Assembler	 Version 4.1	    01/01/02 01:51:47	    Page 1
symbol.asm



      1				     ;-----------------------------------------------------------
      2				     ; Пример вывода символа.
      3				     ;-----------------------------------------------------------
      4				     ;masm
      5	0000			     model small
      6				     ;.stack 100h
      7	0000			     .data
      8	0000  80 E1 E1 A5 AC A1	AB+  message db	'Ассемблер - базовый язык компьютера',0
      9	      A5 E0 20 2D 20 A1	A0+
     10	      A7 AE A2 EB A9 20	EF+
     11	      A7 EB AA 20 AA AE	AC+
     12	      AF EC EE E2 A5 E0	A0+
     13	      00
     14	0024			     .code
     15	0000			     start:
     16	0000  B8 0000s			     mov     ax,@data		     ; связываем регистр ds с сегментом
     17	0003  8E D8			     mov     ds,ax		     ;	     данных через регистр ax
     18
     19	0005  B2 21			     mov     dl,'!'		     ; '!' - выводимый на экран	символ
     20	0007  B4 02			     mov     ah,2		     ; 02h - код функции для вывода символа
     21	0009  CD 21			     int     21h		     ; вывод символа на	экран
     22				     ;	     call    Out_symbol		     ; вызов подпрограммы
     23
     24	000B  BE 0000r			     mov     si,offset message	     ; адрес строки
     25	000E  B4 02			     mov     ah,02h
     26	0010				 .loop:
     27	0010  AC			     lodsb			     ; в al - очередной	символ
     28	0011  0A C0			     or	     al,al		     ; al=0 ?
     29	0013  74 07			     jz	     .done		     ;	     да.
     30	0015  8A D0			     mov     dl,al		     ;	     нет. В dl - очередной символ
     31				     ;	     mov     ah,2		     ; 02h - код функции для вывода символа
     32				     ;	     int     21h		     ; вывод символа на	экран
     33	0017  E8 0007			     call    Out_symbol		     ; вызов подпрограммы
     34	001A  EB F4			     jmp     .loop
     35	001C				 .done:
     36
     37	001C  B8 4C00			     mov     ax,4c00h		     ; 4c00h - код функции для стандартного
     38									     ;	      выхода
     39	001F  CD 21			     int     21h		     ; стандартный выход
     40
     41	0021			     Out_symbol	     proc		     ; подпрограмма
     42	0021  B4 02			     mov     ah,2		     ; 02h - код функции для вывода символа
     43	0023  CD 21			     int     21h		     ; вывод символа на	экран
     44	0025  C3			     ret			     ; возвращение в вызывающую	программу
     45	0026			     Out_symbol	     endp
     46
     47				     end     start
Turbo Assembler	 Version 4.1	    01/01/02 01:51:47	    Page 2
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

.DONE			Near   _TEXT:001C		   29  #35
.LOOP			Near   _TEXT:0010		   #26	34
??DATE			Text   "01/01/02"
??FILENAME		Text   "symbol	"
??TIME			Text   "01:51:47"
??VERSION		Number 040A
@32BIT			Text   0			   #5
@CODE			Text   _TEXT			   #5  #5  #14
@CODESIZE		Text   0			   #5
@CPU			Text   0101H
@CURSEG			Text   _TEXT			   #7  #14
@DATA			Text   DGROUP			   #5  16
@DATASIZE		Text   0			   #5
@FILENAME		Text   SYMBOL
@INTERFACE		Text   000H			   #5
@MODEL			Text   2			   #5
@STACK			Text   DGROUP			   #5
@WORDSIZE		Text   2			   #7  #14
MESSAGE			Byte   DGROUP:0000		   #8  24
OUT_SYMBOL		Near   _TEXT:0021		   33  #41
START			Near   _TEXT:0000		   #15	47

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

DGROUP			Group				   #5  5  16
  _DATA			16  0024 Word	Public	DATA	   #5  #7
_TEXT			16  0026 Word	Public	CODE	   #5  5  #14  14
