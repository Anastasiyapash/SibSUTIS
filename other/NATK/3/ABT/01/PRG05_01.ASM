;---------Prg05_01.asm----------------------------------------------------------------------------
; Пример использования int 21h для функций: 02h и 09h
;-----------------------------------------------------------------------------------------------------
masm
model small
;.stack 100h
.data
var1	db 	'Пример простой программы ...','$'
var2	db	13,10,'Конец сегмента данных программы ...',0
len=$-var2
.code
start:
	mov	ax,@data
	mov	ds,ax
;----------------------------
; Вставка
        mov	ah,09h
        mov	dx,offset var1
	int	21h


	mov	dl,'!'                  ; '!' - выводимый на экран символ
	mov	ah,2                    ; 02h - код функции для вывода символа
	int	21h                     ; вывод символа на экран

	mov	si,offset var2          ; адрес строки
	mov	ah,02h                  ; 02h - код функции для вывода символ

	mov	cx,len
	lea	si,var2
	mov	ah,02h
.loop:
	mov	dl,[si]
	int	21h
	inc	si
	loop	.loop

;----------------------------
	mov	ax,4c00h
	int	21h
end	start

